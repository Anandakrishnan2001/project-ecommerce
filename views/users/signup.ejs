

<%- include("../partials/userheader") %>


    <div class="mobile-header-active mobile-header-wrapper-style">
        <div class="mobile-header-wrapper-inner">
            <div class="mobile-header-top">
                <div class="mobile-header-logo">
                    <a href="index.html"><img src="User_assets/imgs/theme/logo.svg" alt="logo"></a>
                </div>
                <div class="mobile-menu-close close-style-wrap close-style-position-inherit">
                    <button class="close-style search-close">
                        <i class="icon-top"></i>
                        <i class="icon-bottom"></i>
                    </button>
                </div>
            </div>
            <div class="mobile-header-content-area">
                <div class="mobile-search search-style-3 mobile-header-border">
                    <form action="#">
                        <input type="text" placeholder="Search for itemsâ€¦">
                        <button type="submit"><i class="fi-rs-search"></i></button>
                    </form>
                </div>
                <div class="mobile-menu-wrap mobile-header-border">
                    <div class="main-categori-wrap mobile-header-border">
                        <a class="categori-button-active-2" href="#">
                            <span class="fi-rs-apps"></span> Browse Categories
                        </a>

                    </div>
                    <!-- mobile menu start -->

                    <!-- mobile menu end -->
                </div>
                <div class="mobile-header-info-wrap mobile-header-border">
                    <div class="single-mobile-header-info mt-30">
                        <a href="page-contact.html"> Our location </a>
                    </div>
                    <div class="single-mobile-header-info">
                        <a href="page-login-register.html">Log In / Sign Up </a>
                    </div>
                    <div class="single-mobile-header-info">
                        <a href="#">(+01) - 2345 - 6789 </a>
                    </div>
                </div>
                <div class="mobile-social-icon">
                    <h5 class="mb-15 text-grey-4">Follow Us</h5>
                    <a href="#"><img src="User_assets/imgs/theme/icons/icon-facebook.svg" alt=""></a>
                    <a href="#"><img src="User_assets/imgs/theme/icons/icon-twitter.svg" alt=""></a>
                    <a href="#"><img src="User_assets/imgs/theme/icons/icon-instagram.svg" alt=""></a>
                    <a href="#"><img src="User_assets/imgs/theme/icons/icon-pinterest.svg" alt=""></a>
                    <a href="#"><img src="User_assets/imgs/theme/icons/icon-youtube.svg" alt=""></a>
                </div>
            </div>
        </div>
    </div>
    <main class="main">
        <div class="page-header breadcrumb-wrap">
            <div class="container">
               
            </div>
        </div>
        <section class="pt-5 pb-5">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-lg-6">
                        <div class="login_wrap widget-taber-content p-3 background-white border-radius-5">
                            <div class="padding_eight_all bg-white">
                                <div class="heading_s1">
                                    <h3 class="mb-3">Create an Account</h3>
                                </div>
                                <% if (typeof message !=='undefined' ) { %>
                                    <div class="alert alert-danger alert-dismissible fade show" role="alert">
                                        <%= message %>
                                    </div>
                                    <% } %>

                                        <form action="/signup" method="post" id="myForm">
                                            <div class="form-group">
                                                <input type="text" id="username" placeholder="Username" name="username"
                                                    onkeyup="usernameValidation()" class="form-control">
                                                <span id="usernameError" class="error"></span>
                                            </div>
                                            <div class="form-group">
                                                <input type="email" required="" name="email" placeholder="Email"
                                                    onkeyup="emailValidation()" class="form-control">
                                                <span id="emailError" class="error"></span>
                                            </div>

                                            <div class="form-group">
                                                <input required="" type="password" name="password"
                                                    placeholder="Password" onkeyup="passwordValidation()"
                                                    class="form-control">
                                                <span id="passwordError" class="error"></span>
                                            </div>
                                            <div class="form-group">
                                                <input required="" type="password" name="confirm_password"
                                                    placeholder="Confirm password" onkeyup="confirmPasswordValidation()"
                                                    class="form-control">
                                                <span id="confirmPasswordError" class="error"></span>
                                            </div>

                                            <div class="form-group text-center">
                                                <button type="submit" class="btn btn-fill-out hover-up" 
                                                    name="register">Submit &amp; Register</button>
                                            </div>
                                        </form>

                                        <div class="divider-text-center mt-2 mb-2">
                                            <span> or</span>
                                        </div>

                                        <ul class="btn-login list_none text-center mb-2">
                                            <li><a href="#"
                                                    class="btn btn-facebook btn-sm hover-up mb-lg-0 mb-sm-1">Login With
                                                    Facebook</a></li>
                                            <li><a href="#" class="btn btn-google btn-sm hover-up">Login With Google</a>
                                            </li>
                                        </ul>

                                        <div class="text-muted text-center">Already have an account? <a href="login">Login in
                                                now</a></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>


    </main>
    <%- include("../partials/userfooter") %>
    <script>
        const myForm = document.getElementById("myForm");

        const username = document.getElementById("username");
        const email = document.getElementsByName("email")[0];
        const password = document.getElementsByName("password")[0];
        const confirmPassword = document.getElementsByName("confirm_password")[0];

        const usernameError = document.getElementById("usernameError");
        const emailError = document.getElementById("emailError");
        const passwordError = document.getElementById("passwordError");
        const confirmPasswordError = document.getElementById("confirmPasswordError");

        const nameRegex = /^[A-Za-z]+$/;
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#\$%^&*()_+\-=[\]{};':"\\|,.<>\/?]).{4,}$/;

        function validateField(field, errorField, regex, errorMessage) {
            const value = field.value.trim();

            if (value === "") {
                errorField.innerHTML = errorMessage;
                errorField.style.color = "red";
                field.style.border = "solid 2px red";
                return false;
            }

            if (!value.match(regex)) {
                errorField.innerHTML = errorMessage;
                errorField.style.color = "red";
                field.style.border = "solid 2px red";
                return false;
            }

            errorField.innerHTML = "";
            errorField.style.color = "green";
            field.style.border = "solid 2px green";
            return true;
        }

        function usernameValidation() {
            return validateField(username, usernameError, nameRegex, 'Username is required and should only contain letters');
        }

        function emailValidation() {
            return validateField(email, emailError, emailRegex, 'Email is not valid');
        }

        function passwordValidation() {
            return validateField(password, passwordError, passwordRegex, 'Password should contain at least 4 characters with atleast 1 capitalletter, 1 number, and a special character');
        }

        function confirmPasswordValidation() {
            const passwordValue = password.value;
            const confirmPasswordValue = confirmPassword.value;

            if (passwordValue !== confirmPasswordValue) {
                confirmPasswordError.innerHTML = 'Password and Confirm Password should be the same';
                confirmPasswordError.style.color = 'red';
                confirmPassword.style.border = "solid 2px red";
                return false;
            }

            confirmPasswordError.innerHTML = "";
            confirmPasswordError.style.color = "green";
            confirmPassword.style.border = "solid 2px green";
            return true;
        }

        myForm.addEventListener("submit", (event) => {
            event.preventDefault();
            if (!usernameValidation() || !emailValidation() || !passwordValidation() || !confirmPasswordValidation()) {
                return false;
            } else {
                myForm.submit();
            }
        });
        function validateForm() {
            const isValidUsername = usernameValidation();
            const isValidEmail = emailValidation();
            const isValidPassword = passwordValidation();
            const isValidConfirmPassword = confirmPasswordValidation();

            return isValidUsername && isValidEmail && isValidPassword && isValidConfirmPassword;
        }
    </script>
    


</body>

</html>
